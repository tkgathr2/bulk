# Devin 指示書：一括検索君（V1.0 / V0.1 雛形作成）

これは Devin への指示です。

## 前提

- 実行場所：`C:\Users\takag\00_dev\bulk`
- 仕様書（唯一の仕様書）：`docs/plan.md`（V1.4相当の内容を含む）
- この指示書は **V0.1（雛形作成）** のみを扱う。機能実装（OAuth/検索連携）は次の指示書で行う。
- 既存ファイル（`docs/`, `mockups/`）は削除・破壊しない
- ポートは以下で固定する（衝突確認済み）
  - Web（フロント）：`5173`
  - API（バック）：`8080`

## SEC-01（シークレット）停止ルール

この工程ではシークレット情報が必要になる可能性があります。SEC-01 で停止します。

ただし **V0.1ではシークレットを扱わない**（OAuth設定はしない）。

シークレットが必要になった場合は、作業を停止して以下を出力して待機する：

- 「この工程ではシークレット情報が必要になる可能性があります。SEC-01 で停止します。」

## 目的（V0.1）

- `docs/plan.md` に沿った実装に着手できるよう、プロジェクト雛形（Web/API）を作る
- ローカルで起動できる状態を作る（ただし機能はダミーでOK）

## 成果物（V0.1で作るもの）

- `apps/web/`：Vite + React + TypeScript（UIのみ、ダミーデータで画面遷移できる）
- `apps/api/`：Node.js + TypeScript のAPI雛形（ヘルスチェック、ダミー検索API）
- `README.md`：ローカル起動手順（5173/8080明記）
- `.gitignore`：node系、.env系（実値が混入しないように）

## 実装方針（V0.1の範囲）

### Web（apps/web）

- UIは `mockups/` の見た目を参考にしつつ、実装は `docs/plan.md` を優先する
- ルーティング（画面遷移）だけ先に作る
  - `/login`
  - `/search`
  - `/results`
  - `/detail/:id`
  - `/settings`
- デザインは Google（Workspace系）寄せ
- データは仮（フロント内のモック）でよい

### API（apps/api）

- `GET /health` → `200 OK` + `{ "ok": true }`
- `POST /search` → ダミーの検索レスポンスを返す（`docs/plan.md` の「検索の状態モデル」を満たす形）
  - services.slack/gmail/dropbox/drive が `success` で、items が少量入っている
  - `all` 用の合計はフロント側で算出してよい（Plan準拠）

## 手順（V0.1）

1. `apps/web` を作成
   - Vite React TS で初期化
   - `npm run dev -- --port 5173 --strictPort` で起動できること
2. `apps/api` を作成
   - Node + TS（軽量なHTTPサーバでOK）
   - `npm run dev`（もしくは同等）で 8080 で起動できること
3. ルートに `README.md` を作成
   - 前提、起動手順、ポート、停止方法、ディレクトリ構成を記載
4. ルートに `.gitignore` を作成/更新
   - `node_modules/`
   - `.env*`
   - `dist/` 等

## 完了条件（V0.1）

- `apps/web` が 5173 で起動し、上記5画面に遷移できる（ダミーでOK）
- `apps/api` が 8080 で起動し、`/health` と `/search` が応答する
- `README.md` に起動手順が書かれている

## 実行後に返す情報（省略禁止）

1. `tree /f`（`apps/` と `docs/` が分かる範囲）
2. Web起動ログ（5173で起動したことが分かる行）
3. API起動ログ（8080で起動したことが分かる行）
4. `curl http://localhost:8080/health` の出力
5. `curl -X POST http://localhost:8080/search -H \"Content-Type: application/json\" -d \"{\\\"query\\\":\\\"月次報告\\\"}\"` の出力

